Version 4
SHEET 1 988 680
WIRE -1376 -7744 -1520 -7744
WIRE -976 -7744 -1376 -7744
WIRE -848 -7744 -976 -7744
WIRE -704 -7744 -848 -7744
WIRE -640 -7744 -704 -7744
WIRE -368 -7744 -544 -7744
WIRE -288 -7744 -368 -7744
WIRE 352 -7744 -288 -7744
WIRE 448 -7744 352 -7744
WIRE 544 -7744 448 -7744
WIRE 736 -7744 544 -7744
WIRE 752 -7744 736 -7744
WIRE -976 -7712 -976 -7744
WIRE -368 -7696 -368 -7744
WIRE -1520 -7680 -1520 -7744
WIRE 656 -7680 608 -7680
WIRE 736 -7680 736 -7744
WIRE -848 -7664 -848 -7744
WIRE 352 -7664 352 -7744
WIRE 448 -7648 448 -7744
WIRE -976 -7616 -976 -7632
WIRE -912 -7616 -976 -7616
WIRE 544 -7616 544 -7744
WIRE -976 -7600 -976 -7616
WIRE -704 -7552 -704 -7744
WIRE -688 -7552 -704 -7552
WIRE -592 -7552 -592 -7680
WIRE -592 -7552 -608 -7552
WIRE -560 -7552 -592 -7552
WIRE -368 -7552 -368 -7632
WIRE -368 -7552 -464 -7552
WIRE -848 -7536 -848 -7568
WIRE -288 -7536 -288 -7744
WIRE -1392 -7520 -1520 -7520
WIRE -1328 -7520 -1392 -7520
WIRE -1184 -7520 -1248 -7520
WIRE 160 -7520 160 -7536
WIRE -1520 -7504 -1520 -7520
WIRE -976 -7504 -976 -7520
WIRE -976 -7504 -1120 -7504
WIRE 352 -7504 352 -7584
WIRE 400 -7504 352 -7504
WIRE 448 -7504 448 -7584
WIRE 448 -7504 400 -7504
WIRE 544 -7504 544 -7536
WIRE 544 -7504 448 -7504
WIRE 736 -7504 544 -7504
WIRE 752 -7504 736 -7504
WIRE -1184 -7488 -1216 -7488
WIRE 352 -7472 352 -7504
WIRE -512 -7456 -512 -7488
WIRE -480 -7456 -512 -7456
WIRE -368 -7456 -368 -7552
WIRE -368 -7456 -400 -7456
WIRE -288 -7456 -288 -7472
WIRE -704 -7440 -704 -7552
WIRE -640 -7440 -704 -7440
WIRE -512 -7440 -512 -7456
WIRE -512 -7440 -544 -7440
WIRE 656 -7440 608 -7440
WIRE 736 -7440 736 -7504
WIRE -96 -7424 -96 -7440
WIRE 16 -7424 -96 -7424
WIRE -704 -7408 -704 -7440
WIRE -96 -7408 -96 -7424
WIRE 160 -7408 160 -7440
WIRE 160 -7408 80 -7408
WIRE 16 -7392 -16 -7392
WIRE 416 -7392 352 -7392
WIRE -512 -7376 -512 -7440
WIRE -480 -7376 -512 -7376
WIRE -368 -7376 -368 -7456
WIRE -368 -7376 -416 -7376
WIRE -1216 -7360 -1216 -7488
WIRE -1136 -7360 -1216 -7360
WIRE -1072 -7360 -1136 -7360
WIRE 352 -7360 352 -7392
WIRE 416 -7360 416 -7392
WIRE -704 -7296 -704 -7328
WIRE -592 -7296 -592 -7376
WIRE -592 -7296 -704 -7296
WIRE -576 -7296 -592 -7296
WIRE -480 -7296 -576 -7296
WIRE -368 -7296 -368 -7376
WIRE -368 -7296 -416 -7296
WIRE -96 -7296 -96 -7328
WIRE -1376 -7280 -1424 -7280
WIRE -1360 -7280 -1376 -7280
WIRE -1200 -7280 -1216 -7280
WIRE 416 -7264 416 -7280
WIRE 624 -7264 528 -7264
WIRE 656 -7264 624 -7264
WIRE -848 -7232 -848 -7456
WIRE -288 -7232 -288 -7392
WIRE -288 -7232 -848 -7232
WIRE -96 -7232 -288 -7232
WIRE -16 -7232 -16 -7392
WIRE -16 -7232 -96 -7232
WIRE 624 -7232 624 -7264
WIRE -1376 -7200 -1376 -7280
WIRE -1344 -7200 -1376 -7200
WIRE -1200 -7200 -1200 -7280
WIRE -1200 -7200 -1264 -7200
WIRE -1184 -7200 -1200 -7200
WIRE -1168 -7200 -1184 -7200
WIRE -1072 -7200 -1072 -7360
WIRE -1072 -7200 -1088 -7200
WIRE -16 -7184 -16 -7232
WIRE 528 -7184 528 -7264
WIRE -96 -7168 -96 -7232
WIRE -576 -7136 -576 -7296
WIRE 624 -7136 624 -7152
WIRE -1184 -7088 -1184 -7200
WIRE -1168 -7088 -1184 -7088
WIRE -16 -7088 -16 -7104
WIRE -1072 -7072 -1072 -7200
WIRE -1072 -7072 -1104 -7072
WIRE -976 -7072 -1072 -7072
WIRE -960 -7072 -976 -7072
WIRE -800 -7072 -816 -7072
WIRE -96 -7072 -96 -7104
WIRE -1168 -7056 -1184 -7056
WIRE -976 -6992 -976 -7072
WIRE -944 -6992 -976 -6992
WIRE -800 -6992 -800 -7072
WIRE -800 -6992 -864 -6992
WIRE -1344 -6976 -1376 -6976
WIRE -1200 -6976 -1264 -6976
WIRE -1184 -6976 -1184 -7056
WIRE -1184 -6976 -1200 -6976
WIRE -1168 -6976 -1184 -6976
WIRE -1072 -6976 -1088 -6976
WIRE -800 -6960 -800 -6992
WIRE -768 -6960 -800 -6960
WIRE -656 -6960 -704 -6960
WIRE -1072 -6944 -1072 -6976
WIRE -304 -6928 -304 -6944
WIRE -1376 -6896 -1376 -6976
WIRE -1376 -6896 -1424 -6896
WIRE -1360 -6896 -1376 -6896
WIRE -1200 -6896 -1200 -6976
WIRE -1200 -6896 -1216 -6896
WIRE -800 -6864 -800 -6960
WIRE -768 -6864 -800 -6864
WIRE -656 -6848 -656 -6960
WIRE -656 -6848 -704 -6848
WIRE -640 -6848 -656 -6848
WIRE -1472 -6832 -1520 -6832
WIRE -768 -6832 -1472 -6832
WIRE -576 -6832 -576 -7056
WIRE -448 -6832 -576 -6832
WIRE -304 -6832 -304 -6848
WIRE -176 -6832 -304 -6832
WIRE -1520 -6816 -1520 -6832
WIRE -304 -6816 -304 -6832
WIRE -304 -6816 -384 -6816
WIRE -640 -6800 -640 -6848
WIRE -448 -6800 -640 -6800
WIRE -304 -6800 -304 -6816
WIRE -640 -6784 -640 -6800
WIRE -304 -6704 -304 -6736
WIRE -1200 -6688 -1440 -6688
WIRE -640 -6688 -640 -6720
WIRE -576 -6688 -576 -6832
WIRE -576 -6688 -640 -6688
WIRE -1088 -6672 -1136 -6672
WIRE -944 -6672 -1088 -6672
WIRE -1200 -6656 -1216 -6656
WIRE -1088 -6656 -1088 -6672
WIRE -640 -6640 -640 -6688
WIRE -304 -6608 -304 -6624
WIRE -1216 -6576 -1216 -6656
WIRE -1088 -6576 -1216 -6576
WIRE -944 -6576 -944 -6672
WIRE -912 -6576 -944 -6576
WIRE -800 -6576 -832 -6576
WIRE -768 -6576 -800 -6576
WIRE -656 -6576 -704 -6576
WIRE -1088 -6544 -1088 -6576
WIRE -576 -6512 -576 -6688
WIRE -448 -6512 -576 -6512
WIRE -304 -6512 -304 -6528
WIRE -192 -6512 -304 -6512
WIRE -304 -6496 -304 -6512
WIRE -304 -6496 -384 -6496
WIRE -1472 -6480 -1520 -6480
WIRE -1312 -6480 -1472 -6480
WIRE -800 -6480 -800 -6576
WIRE -768 -6480 -800 -6480
WIRE -640 -6480 -640 -6576
WIRE -448 -6480 -640 -6480
WIRE -304 -6480 -304 -6496
WIRE -1520 -6464 -1520 -6480
WIRE -656 -6464 -656 -6576
WIRE -656 -6464 -704 -6464
WIRE -640 -6464 -640 -6480
WIRE -640 -6464 -656 -6464
WIRE -768 -6448 -912 -6448
WIRE -1312 -6400 -1312 -6480
WIRE -912 -6400 -912 -6448
WIRE -912 -6400 -1312 -6400
WIRE -304 -6384 -304 -6416
FLAG -1520 -7600 0
FLAG -1376 -7744 VPREREG
FLAG -1648 -7600 0
FLAG -1648 -7680 V24
FLAG -1648 -7456 0
FLAG -1648 -7536 3V3
FLAG -1648 -7312 0
FLAG -1648 -7392 V-
FLAG -1152 -7536 0
FLAG -1152 -7472 V24
FLAG -1392 -7520 OVPTHR
FLAG -1520 -7424 0
FLAG -1136 -7104 3V3
FLAG -1136 -7040 V-
FLAG -1072 -6944 REFG
FLAG -1424 -6896 VSENSE+
FLAG -1424 -7280 VSENSE-
FLAG -1136 -7360 VSENSE
FLAG -736 -6880 V24
FLAG -736 -6816 V-
FLAG -1520 -6736 0
FLAG -1472 -6832 VSET
FLAG -736 -6496 V24
FLAG -736 -6432 V-
FLAG -1168 -6640 3V3
FLAG -1168 -6704 V-
FLAG -1088 -6464 REFG
FLAG -1520 -6384 0
FLAG -1472 -6480 ISET
FLAG -1440 -6688 ISENSE
FLAG 48 -7440 0
FLAG 48 -7376 V24
FLAG -96 -7296 0
FLAG -96 -7520 3V3
FLAG 160 -7536 3V3
FLAG 752 -7744 OUT+
FLAG 608 -7680 VSENSE+
FLAG 752 -7504 OUT-
FLAG 608 -7440 VSENSE-
FLAG 352 -7360 0
FLAG 416 -7264 REFG
FLAG 400 -7504 ISENSE
FLAG 528 -7104 0
FLAG 656 -7264 OUT
FLAG 624 -7136 0
FLAG -16 -7088 0
FLAG -96 -7072 0
FLAG -416 -6784 0
FLAG -416 -6848 V24
FLAG -304 -6944 3V3
FLAG -304 -6704 0
FLAG -416 -6464 0
FLAG -416 -6528 V24
FLAG -304 -6624 3V3
FLAG -304 -6384 0
FLAG -176 -6832 _VLIM
FLAG -192 -6512 _ILIM
SYMBOL voltage -1520 -7696 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL voltage -1648 -7696 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 24
SYMBOL voltage -1648 -7552 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 3.3
SYMBOL voltage -1648 -7408 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value -230m
SYMBOL Opamps\\opamp2 -1152 -7440 M180
SYMATTR InstName U1
SYMATTR Value LM393
SYMBOL res -1232 -7536 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 2k
SYMBOL res -992 -7616 R0
SYMATTR InstName R3
SYMATTR Value 20k
SYMBOL res -992 -7728 R0
SYMATTR InstName R4
SYMATTR Value 20k
SYMBOL pnp -912 -7568 M180
SYMATTR InstName Q1
SYMATTR Value 2N4403
SYMBOL voltage -1520 -7520 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value 2.048
SYMBOL res -864 -7552 R0
SYMATTR InstName R5
SYMATTR Value 1k2
SYMBOL pnp -544 -7680 M270
WINDOW 0 113 67 VLeft 2
WINDOW 3 90 96 VLeft 2
SYMATTR InstName Q2
SYMATTR Value D45H11
SYMBOL res -592 -7568 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 2k
SYMBOL npn -560 -7488 R270
SYMATTR InstName Q3
SYMATTR Value 2N3904
SYMBOL res -384 -7472 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 2k
SYMBOL diode -416 -7392 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value BAT54
SYMBOL npn -640 -7376 R270
SYMATTR InstName Q4
SYMATTR Value 2N3904
SYMBOL diode -416 -7312 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value BAT54
SYMBOL res -688 -7312 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R8
SYMATTR Value 20k
SYMBOL res -592 -7152 R0
SYMATTR InstName R9
SYMATTR Value 330
SYMBOL Opamps\\opamp2 -1136 -7136 R0
SYMATTR InstName U2
SYMATTR Value AD8606
SYMBOL res -1072 -7216 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 2k
SYMBOL res -1248 -7216 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 20k
SYMBOL res -1264 -7296 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 2k
SYMBOL cap -1216 -7296 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 22n
SYMBOL res -1072 -6960 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R13
SYMATTR Value 2k
SYMBOL res -1248 -6960 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R14
SYMATTR Value 20k
SYMBOL res -1264 -6880 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R15
SYMATTR Value 2k
SYMBOL cap -1216 -6880 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C2
SYMATTR Value 22n
SYMBOL Opamps\\opamp2 -736 -6912 R0
SYMATTR InstName U3
SYMATTR Value LM324
SYMBOL voltage -1520 -6832 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value PULSE(0 1 0 10m)
SYMBOL cap -704 -6976 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 220p
SYMBOL res -848 -7008 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 20k
SYMBOL res -864 -7088 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 2k
SYMBOL cap -816 -7088 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 22n
SYMBOL diode -624 -6720 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMATTR Value BAT54
SYMBOL Opamps\\opamp2 -736 -6528 R0
SYMATTR InstName U4
SYMATTR Value LM324
SYMBOL cap -704 -6592 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 22n
SYMBOL diode -656 -6640 R0
SYMATTR InstName D6
SYMATTR Value BAT54
SYMBOL res -816 -6592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 2k
SYMBOL Opamps\\opamp2 -1168 -6608 M180
SYMATTR InstName U5
SYMATTR Value AD8606
SYMBOL res -1104 -6560 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R19
SYMATTR Value 20k
SYMBOL res -1104 -6448 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R20
SYMATTR Value 330
SYMBOL voltage -1520 -6480 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V7
SYMATTR Value 2.048
SYMBOL Opamps\\opamp2 48 -7344 M180
SYMATTR InstName U6
SYMATTR Value LM393
SYMBOL res -112 -7424 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R21
SYMATTR Value 20k
SYMBOL res -112 -7312 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R22
SYMATTR Value 2k
SYMBOL res 144 -7536 R0
SYMATTR InstName R23
SYMATTR Value 470k
SYMBOL res 336 -7680 R0
SYMATTR InstName R24
SYMATTR Value 600
SYMBOL cap 432 -7648 R0
SYMATTR InstName C6
SYMATTR Value 330µ
SYMATTR SpiceLine Rser=.01
SYMBOL voltage 752 -7680 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V8
SYMATTR Value 0
SYMBOL voltage 752 -7440 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V9
SYMATTR Value 0
SYMBOL res 336 -7488 R0
SYMATTR InstName R25
SYMATTR Value 0.01
SYMBOL voltage 416 -7376 R0
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V10
SYMATTR Value 0
SYMBOL bv 528 -7200 R0
SYMATTR InstName B1
SYMATTR Value V=V(OUT+,OUT-)
SYMBOL bi 544 -7616 R0
SYMATTR InstName B2
SYMATTR Value I=-I(B1)
SYMBOL load2 624 -7232 R0
WINDOW 123 0 0 Left 2
WINDOW 39 17 12 Left 2
SYMATTR SpiceLine load
SYMATTR InstName I1
SYMATTR Value PULSE(0 2 0 1u 1u 0.1 0.2)
SYMBOL res -32 -7200 R0
SYMATTR InstName R26
SYMATTR Value 330
SYMBOL diode -112 -7168 R0
SYMATTR InstName D7
SYMBOL zener -304 -7472 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value BZX84C12L
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL zener -304 -7392 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value BZX84C12L
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL Opamps\\opamp2 -416 -6880 R0
SYMATTR InstName U7
SYMATTR Value LM393
SYMBOL res -320 -6944 R0
SYMATTR InstName R2
SYMATTR Value 470k
SYMBOL cap -320 -6800 R0
SYMATTR InstName C7
SYMATTR Value 22n
SYMBOL Opamps\\opamp2 -416 -6560 R0
SYMATTR InstName U8
SYMATTR Value LM393
SYMBOL res -320 -6624 R0
SYMATTR InstName R27
SYMATTR Value 470k
SYMBOL cap -320 -6480 R0
SYMATTR InstName C8
SYMATTR Value 22n
SYMBOL FerriteBead -368 -7664 R0
SYMATTR InstName L1
SYMATTR Value 270n
SYMATTR SpiceLine Ipk=0.1 Rser=0.144 Rpar=163 Cpar=360f mfg="Wurth Elektronik" pn="742 792 711 5"
TEXT -1672 -7256 Left 2 !.lib AD8606.sub
TEXT -1672 -7224 Left 2 !.lib LM393.sub
TEXT -1672 -7192 Left 2 !.lib LM324.sub
TEXT -1664 -7160 Left 2 !.tran 1 startup
